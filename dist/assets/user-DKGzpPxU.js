import{p as m,r as n}from"./index-CYHUCKG_.js";import{s as r}from"./_plugin-vue_export-helper-COv-dAod.js";const l=e=>r({url:"/api/admin/auth/login",method:"post",data:e}),d=e=>r({url:"/api/admin/auth/change-password",method:"post",data:e}),p=m("user",()=>{const e=n(localStorage.getItem("admin_token")||""),t=n(localStorage.getItem("admin_username")||"");return{token:e,username:t,login:async s=>{try{const{token:o,admin:a}=await l(s);e.value=o,t.value=a.username,localStorage.setItem("admin_token",o),localStorage.setItem("admin_username",a.username)}catch(o){throw o}},logout:()=>{e.value="",t.value="",localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username")}}});export{d as c,p as u};
