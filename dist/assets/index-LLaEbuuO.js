import{d as V,r as m,a as b,c as y,b as p,e as o,w as r,f as a,o as k,u as C,g as R,E as c}from"./index-CYHUCKG_.js";import{u as U}from"./user-DKGzpPxU.js";import{_ as h}from"./_plugin-vue_export-helper-COv-dAod.js";const B={class:"login-container"},E={class:"login-box"},F=V({__name:"index",setup(N){const f=C(),_=U(),t=m(!1),l=m(),s=b({username:"",password:""}),g={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},w=async()=>{l.value&&await l.value.validate(async i=>{if(i){t.value=!0;try{await _.login(s),c.success("登录成功"),f.push("/")}catch(e){c.error(e.message||"登录失败")}finally{t.value=!1}}})};return(i,e)=>{const d=a("el-input"),n=a("el-form-item"),v=a("el-button"),x=a("el-form");return k(),y("div",B,[p("div",E,[e[3]||(e[3]=p("h2",null,"管理员登录",-1)),o(x,{ref_key:"loginFormRef",ref:l,model:s,rules:g,class:"login-form"},{default:r(()=>[o(n,{prop:"username"},{default:r(()=>[o(d,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=u=>s.username=u),placeholder:"用户名","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(n,{prop:"password"},{default:r(()=>[o(d,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=u=>s.password=u),type:"password",placeholder:"密码","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),o(n,null,{default:r(()=>[o(v,{loading:t.value,type:"primary",class:"login-button",onClick:w},{default:r(()=>e[2]||(e[2]=[R(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}}),I=h(F,[["__scopeId","data-v-8e1871ba"]]);export{I as default};
